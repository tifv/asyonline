{# vim: set filetype=jinja foldmethod=marker shiftwidth=2 : -#}
<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head>
  <title>Online Asymptote compiler</title>
<style> {#- {{{ #}
    a {
      color: inherit;
    }

    body {
      margin: 0;
    }
    body > .splitter.splitter--vertical {
      height: 100vh;
    }
    .splitter {
      display: flex;
      overflow: hidden;
    }
    .splitter--vertical {
    }
        .splitter__part {
          flex-shrink: 0.0;
          flex-grow: 1.0;
        }
        .splitter:not(.splitter--vertical) > .splitter__part {
          flex-basis: 20px;
          width: 100%;
        }
        .splitter.splitter--vertical > .splitter__part {
          flex-basis: 100px;
          height: 100%;
        }
        .splitter__separator {
          flex-shrink: 0.0;
          flex-grow: 0.0;
          flex-basis: 8px;
          width: 100%;
          background-color: hsl(120, 0%, 30%);
        }
        .splitter:not(.splitter--vertical) > .splitter__separator {
          cursor: ns-resize;
        }
        .splitter.splitter--vertical > .splitter__separator {
          cursor: ew-resize;
        }
        .splitter__separator:hover {
          background-color: hsl(120, 0%, 70%);
        }
        .splitter__separator.active {
          background-color: hsl(120, 0%, 70%);
        }
    #splitter__overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;
    }

    .pane {
      display: inline-flex;
      flex-direction: column;
    }
        .pane__main {
          flex: 1;
        }

    .footer {
      background: black;
      color: #dddddd;
    }
        .footer__item {
          margin: 0 0.3em;
        }
        .footer__item--save {
          float: left;
        }
        .footer__item--about {
          float: right;
        }

{#-
    .source_save:not(.source_save--saved) #source_save__notice {
      display: none;
    }
    .source_save.source_save--saved #source_save__button {
      display: none;
    }
#}

    .output {
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #dddddd;
    }
        .output__part {
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: auto;
        }
        .output__part--error {
          flex-grow: 0;
        }
        .output__part--text {
          align-items: flex-start;
          justify-content: flex-start;
        }
        .output__part--svg {
          background: #ffffff;
          animation-duration: 0.3s;
          animation-name: output__notice;
          animation-timing-function: linear;
        }
            @keyframes output__notice {
                0% { background:   #bbddff  ; }
               50% { background:   #ddffee  ; }
              100% { background:   #ffffff  ; }
            }
        .output__data--error {
          color: red;
        }
        .output__data--text {
          padding: 5px;
        }
        code.output__data {
          white-space: pre-wrap;
        }
        .output__part--svg > svg {
          padding: 5px;
          overflow-y: auto;
          /*background: #ffffff;*/
          box-sizing: border-box;
        }
        a.output__data {
          color: #222222;
        }
        .output__part--scale > .button:not(:first-child) {
          margin-left: 20px;
        }

    a.button {
      cursor: pointer;
      text-decoration: underline;
      text-decoration-style: dotted;
    }

</style> {#- }}} #}
</head>
<body><div class="splitter splitter--vertical">
  <div class="splitter__part pane">
    <div id="editor" class="pane__main"></div>
    <div id="footer" class="footer">
    {#-
      <span class="footer__item footer__item--save source_save" id="source_save">
        <a class="button" id="source_save__button">
          Save source</a>
        <span id="source_save__notice">
          URL was updated.
          <a id="source_save__link" download="image.asy">
            Save source to file</a>
        </span>
      </span>
    #}
      <span class="footer__item footer__item--about"
        ><a href="/about" target="_blank">About</a></span>
    </div>
  </div><div class="splitter__separator">
  </div><div id="output-container" class="splitter__part pane">
    <div id="output" class="pane__main output splitter">
    </div>
  </div>
</div>
<div id="splitter__overlay"></div>
<script {% if use_cdn -%}
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"
  {%- else -%}
  src="/static/libs/jquery/3.2.1/jquery.min.js"
  {%- endif -%}
></script>
<script {% if use_cdn -%}
  src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.7/ace.js"
  {%- else -%}
  src="/static/libs/ace/1.2.7/ace.js"
  {%- endif -%}
></script>

<script src="/static/main.js"></script>

</body>
</html>
